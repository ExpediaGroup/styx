include: ${STYX_HOME:classpath:}/conf/default.yml

jvmRouteName: styx-development

proxy:
  connectors:
    https:
      sslProvider: JDK
      certificateFile: ${STYX_HOME:classpath:}/conf/tls/testCredentials.crt
      certificateKeyFile: ${STYX_HOME:classpath:}/conf/tls/testCredentials.key
      cipherSuites:
        - TLS_RSA_WITH_AES_128_GCM_SHA256

#services:
#  factories:
#    backendServiceRegistry:
#      config:
#        originsFile: ${STYX_HOME:classpath:}/conf/env-development/origins.yml

providers:
  originsFileLoader:
    type: YamlFileConfigurationService
    config:
      originsFile: ${STYX_HOME:classpath:}/conf/env-development/origins.yml
      ingressObject: pathPrefixRouter
      monitor: True

httpPipeline:
  type: InterceptorPipeline
  config:
    pipeline: demo
    handler: pathPrefixRouter

#Uncommenting stops Styx from starting properly - it runs, but logging just stops and no connection can be made to Styx.
plugins:
  active: demo
  all:
    demo:
      factory:
        class: "com.hotels.styx.demo.DemoPluginFactory"
        classPath: ""
      config:
        putAnythingHere: "so it knows we configured it"
